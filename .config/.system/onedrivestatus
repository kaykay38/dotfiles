#!/usr/bin/bash
#Show OneDrive status in dwm-bar

onedrivestatus="$(journalctl --user-unit onedrive -n 5 | tail -n 1 | grep -oP 'onedrive\[[0-9]*\]: \K\w+')"
if [[ "$onedrivestatus" = 'Downloading' ]]; then
    echo "   "
elif [[ "$onedrivestatus" = 'Uploading' ]]; then
    echo "   "
elif [[  "$onedrivestatus" = 'Creating' || "$onedrivestatus" = 'Deleting' || "$onedrivestatus" = 'Syncing' || "$onedrivestatus" = 'Moving' ]]; then
    echo "   "
elif [[  "$onedrivestatus" = 'Initializing' || "$onedrivestatus" = 'OneDrive' || "$onedrivestatus" = 'Sync' ]]; then
    echo "  "
else
    echo "   ✗"
fi
